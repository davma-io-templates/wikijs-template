apiVersion: core.oam.dev/v1beta1
kind: Application
metadata:
  annotations:
    description: "davma.io-wiki.js storage components for production environments."
  name: wikijs-storage
spec:
  components:
    - name: db-data
      type: pvc
      properties:
        name: db-data
        accessMode: "ReadWriteOnce"
    - name: wikijs-data
      type: pvc
      properties:
        name: wikijs-data
        accessMode: "ReadWriteOnce"
    - name: wikijs-config
      type: pvc
      properties:
        name: wikijs-config
        accessMode: "ReadWriteOnce"
  policies:
  - name: davmaio-pvc-app-health
    type: health
    properties:
      probeInterval: 5